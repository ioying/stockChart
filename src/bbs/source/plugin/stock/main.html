<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>公式编辑器函数调试器 V 0.01版</title>
<!--代码高亮-->
<script src="/CodeMirror/lib/codemirror.js"></script>
<link rel="stylesheet" href="/CodeMirror/lib/codemirror.css">
<script src="/CodeMirror/mode/javascript/javascript.js"></script>
<!--加载代码高亮主题  -->
<link rel="stylesheet" href="/CodeMirror/lib/codemirror.css">
<link rel="stylesheet" href="/CodeMirror/doc/docs.css">
<link rel="stylesheet" href="/CodeMirror/theme/ambiance.css">
<script src="main.js"></script>
<script src="SpryAssets/SpryTabbedPanels.js" type="text/javascript"></script>
<style type="text/css">
<!--
.STYLE2 {font-size: 12px; font-family: Arial, Helvetica, sans-serif;}
.STYLE4 {
	font-family: "黑体", "宋体";
	font-size: 12px;
}
.STYLE5 {font-size: 12px}
.STYLE6 {
	font-size: 14px;
	font-weight: bold;
}
.STYLE8 {font-family: "黑体", "宋体"; font-size: 14px; }
-->
</style>
<link href="SpryAssets/SpryTabbedPanels.css" rel="stylesheet" type="text/css" />
</head>

<body>
<div id="TabbedPanels1" class="TabbedPanels">
  <ul class="TabbedPanelsTabGroup">
    <li class="TabbedPanelsTab" tabindex="0">Tab 1</li>
    <li class="TabbedPanelsTab" tabindex="0">Tab 2</li>
	<li class="TabbedPanelsTab" tabindex="0">Tab 3</li>
  </ul>
  <div class="TabbedPanelsContentGroup">
    <div class="TabbedPanelsContent">
      <div class="STYLE2" id="text1">图</div>
      	<div class="STYLE2" id="chart">测试绘图区</div> 
    </div>
    <div class="TabbedPanelsContent">
      <div class="STYLE2" id="text2">计算结果  </div>
      <div class="STYLE2" id="txtHint">
  <p>&nbsp;</p>
  <p>txtHint 计算结果

  </p>
</div>
    </div>
	<div class="TabbedPanelsContent">
      <div class="STYLE2" id="text3">3结果  </div>
    </div>
  </div>
</div>



<p>&nbsp; </p>

</p>

<form id="form1">
<div style="height:220px;">
	  <textarea name="formula" rows="20" cols="30" id="formula"  style="width:370px; height:340px;font-size:22px;"  >ma5:ma((h+l)/2,5);</textarea>
</div>
<input type="hidden"  name="uid"  id="uid" style="width:50px;" value='1'] />	  
	 <input type="radio" name="mainmap" id="mainmap" value="1" />在主图上叠加&nbsp&nbsp&nbsp
	 <input type="radio" name="mainmap" id="mainmap" value="2" checked="checked"/>副图显示&nbsp&nbsp&nbsp<br>&nbsp
<input type="button" onclick="funcdraw();" value="    绘图     " />
      <input type="button" onclick="funcTest();" value="    计算     " />
      <input type="button" onclick="javascript:text.value='';" value="清空" />	  
	  <select name="func" size="2" onclick="addfunc(this.value)">
        <option value="ma(x,n)" selected="selected">ma(x,y) </option>
        <option value="REF(x,n)">ref(x,y) </option>
        <option value="abs(x)">abs(x) </option>
		<option value="llv(x,n)">llv(x) </option>
		<option value="hhv(x,n)">hhv(x) </option>
            </select>
	  <input name="stock_code" type="text" id="stock_code" style="width:50px;" value="601988" />
	          <select name="cycle" id="cycle">
          <option value="min1">1分钟</option>
          <option value="min5">5分钟</option>
          <option value="min30">30分钟</option>
          <option value="min60">60分钟</option>
          <option value="day1" selected="selected">1日</option>
          <option value="week1">1周</option>
          <option value="month1">1月</option>
                                                </select>
<input type="text" name="select_cycle"  id="select_cycle" style="width:50px;" value='55' />	<select name="eg" id="eg"  onchange="addfunc(this.value)">
<option value="7;" selected="selected">7 常量</option>
<option value="a1:1;a2:2;a3:a1+a2;">a1:1;a2:2;a3:a1+a2 引用变量 </option>
<option value="mai:ma(ma(ma(c,2),3),4);">ma5:ma(ma(ma(c,2),3),4) 嵌套</option>
<option value="ma5:ma(c,5);" >ma5:ma(c,5) </option>
<option value="ref5:ma(c-ref(c,5),5);" >ref5:ma(c-ref(c,5),5) 引用N周期 </option>
<option value="ma10:ma(ref(c,1),10);">ma10:ma(ref(c,1),10) </option>
<option value="maplus:ma5+ma10;">maplus:ma5+ma10 </option> 
<option value="a5:xy+3.77;">a5:xy+3.77 未知变量</option>
<option value="a6:c/(o-c);">a5:c/(o-c) 除零 需 打开文件中的设置，调试期默认关闭</option>
</select>											
 
 
	  <!-- <textarea name="formula" id="formula"   cols="95" rows="10" >ma5:ma((h+l)/2,5);</textarea> -->



<a href="bugs.php" target="_blank">bugs</a>
<br />
<span class="STYLE5"><span class="STYLE6">说明:</span><br />
<!--
1. 已经支持中文变量命名，命令行建议以&quot; ;&quot; (分号)结尾。<br />
2. 暂不支持 &quot;:=&quot; 隐藏功能, 即所有命令行均显示。<br />
3. 绘图部分未完成, 众多功能未实现。暂时只绘制以&quot;ma5&quot;命名的命令行, 并确保其值不要超范围。<br />
//
4. 未屏蔽 $ 符号，系统内定义的变量可以被调用以方便调试，例如：$i、$k 、$j 等，也可以绘制 如ma5:3+$k/100; 的线。 慎用！！！--></span></label></td>
</form>



<p>&nbsp;</p>

<script type="text/javascript">
<!--
var TabbedPanels1 = new Spry.Widget.TabbedPanels("TabbedPanels1");
//-->
</script>
	    <script>
  var editor = CodeMirror.fromTextArea(document.getElementById("formula"), {
    lineNumbers: true,
    styleActiveLine: true,
    matchBrackets: true
 
  });
  //使用主题
     editor.setOption("theme", "ambiance");	
	 editor.setOption("font-size", "10px");	
/*
  var input = document.getElementById("select");
  function selectTheme() {
    var theme = input.options[input.selectedIndex].innerHTML;
    editor.setOption("theme", theme);
  }
  var choice = document.location.search &&
               decodeURIComponent(document.location.search.slice(1));
  if (choice) {
    input.value = choice;
    editor.setOption("theme", choice);
  }
  */
</script>

<input type="button" name="dis" value="可用" onclick="document.all('testb').disabled=false;">
<input type="button" name="undis" value="不可用" onclick="document.all('testb').disabled=true;">
<input type="button" name="testb" value="测试按钮">
</body>
</html>
